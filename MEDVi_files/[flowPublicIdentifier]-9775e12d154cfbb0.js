(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883],{89107:function(e,t,n){"use strict";n.d(t,{u:function(){return x},Z:function(){return b}});var i,o=n(25773),r=n(64649),s=n(8136),l=n(90005),a=n.n(l),u=n(27406),c=n(27378),d=n(26775),f=n(98554),m=function(){if(!((0,f.Z)()&&window.document.documentElement))return!1;if(void 0!==i)return i;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),i=1===e.scrollHeight,document.body.removeChild(e),i},p=function(){var e=c.useState(!1),t=(0,s.Z)(e,2),n=t[0],i=t[1];return c.useEffect(function(){i(m())},[]),n};function h(e){var t=e.className,n=e.direction,i=e.index,s=e.marginDirection,l=e.children,a=e.split,u=e.wrap,d=c.useContext(x),f=d.horizontalSize,m=d.verticalSize,p=d.latestIndex,h=d.supportFlexGap,g={};return(!h&&("vertical"===n?i<p&&(g={marginBottom:f/(a?2:1)}):g=(0,o.Z)((0,o.Z)({},i<p&&(0,r.Z)({},s,f/(a?2:1))),u&&{paddingBottom:m})),null==l)?null:c.createElement(c.Fragment,null,c.createElement("div",{className:t,style:g},l),i<p&&a&&c.createElement("span",{className:"".concat(t,"-split"),style:g},a))}var g=n(31630),v=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>t.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},x=c.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),y={small:8,middle:16,large:24},w=function(e){var t,n=c.useContext(d.E_),i=n.getPrefixCls,l=n.space,f=n.direction,m=e.size,g=void 0===m?(null==l?void 0:l.size)||"small":m,w=e.align,b=e.className,S=e.children,C=e.direction,j=void 0===C?"horizontal":C,N=e.prefixCls,I=e.split,T=e.style,k=e.wrap,_=void 0!==k&&k,z=v(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),P=p(),E=c.useMemo(function(){return(Array.isArray(g)?g:[g,g]).map(function(e){return"string"==typeof e?y[e]:e||0})},[g]),F=(0,s.Z)(E,2),O=F[0],D=F[1],R=(0,u.Z)(S,{keepEmpty:!0}),Z=void 0===w&&"horizontal"===j?"center":w,M=i("space",N),L=a()(M,"".concat(M,"-").concat(j),(t={},(0,r.Z)(t,"".concat(M,"-rtl"),"rtl"===f),(0,r.Z)(t,"".concat(M,"-align-").concat(Z),Z),t),b),U="".concat(M,"-item"),A="rtl"===f?"marginLeft":"marginRight",B=0,W=R.map(function(e,t){null!=e&&(B=t);var n=e&&e.key||"".concat(U,"-").concat(t);return c.createElement(h,{className:U,key:n,direction:j,index:t,marginDirection:A,split:I,wrap:_},e)}),H=c.useMemo(function(){return{horizontalSize:O,verticalSize:D,latestIndex:B,supportFlexGap:P}},[O,D,B,P]);if(0===R.length)return null;var q={};return _&&(q.flexWrap="wrap",P||(q.marginBottom=-D)),P&&(q.columnGap=O,q.rowGap=D),c.createElement("div",(0,o.Z)({className:L,style:(0,o.Z)((0,o.Z)({},q),T)},z),c.createElement(x.Provider,{value:H},W))};w.Compact=g.ZP;var b=w},53791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/t/[flowPublicIdentifier]",function(){return n(99770)}])},23231:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var i=n(51037),o=n(50858),r=n(85556),s=n(24246),l=n(5592),a=n(39142),u=n(81281),c=n(19941),d=n(58971),f=n(27378),m=n(57500),p=n(42036),h=n(97145),g=n(54938),v=n(14126),x=n.n(v),y=n(79165),w=n(98784),b=n(21906),S=n(49616),C=n(60074),j=(0,f.memo)(function(){var e=(0,d.C)(y.AT),t=(0,f.useMemo)(function(){var t=new Set;return Object.keys(e.steps).forEach(function(n){var i=e.steps[n].template.widgets;Object.keys(i).forEach(function(e){var n=i[e],o=n.type;h.C[o].isDynamicallyLoaded&&t.add(n.type)})}),Array.from(t)},[e]);return(0,s.jsx)("div",{className:"opacity-0 absolute w-0 h-0 overflow-hidden",style:{display:"none",visibility:"hidden",left:"-9999px",top:"-9999px",clipPath:"polygon(0 0, 0 0, 0 0, 0 0)",pointerEvents:"none"},"data-cy":"hidden-widget-preload-div",children:(0,s.jsx)(b.SV,{fallback:(0,s.jsx)(s.Fragment,{}),onError:function(e){C.Tb(e)},children:t.map(function(e){var t=h.C[e].Component,n=g.wY[e].getInitialTemplate(),i=x().generate();return(0,s.jsx)(t,{dontRenderLabel:!1,evaluatedTemplate:(0,p.evaluateGenericObject)(n,{},{timezone:(0,S.v)(),language:void 0}),unevaluatedTemplate:n,isReadonlyMode:!0,setValue:function(){},value:p.SHARED_WIDGETS[e].docs.emptyValue,widgetId:i},i)})})})},w.isEqual),N=n(99540),I=n(89426),T=n(8123),k=n(85896),_=n(91413),z=n(60053),P=n(61429),E=n(99511),F=n(9482),O=n(11576),D=function(){var e=(0,d.C)(l.m0e),t=(0,d.C)(l.GDi),n=(0,d.C)(a.gh),i=(0,d.C)(l.$Zm),o=(0,d.C)(E.VU),r=(0,z._)((0,f.useState)(!1),2),u=r[0],c=r[1];if(null==e||"live"!==n||u)return(0,s.jsx)(s.Fragment,{});var m=(0,F.Ad)(e);return null==m||m.lastSavedSnapshotTime<=i||m.lastSavedSnapshotId===t?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)("div",{className:"fixed bottom-0 left-1/2   -translate-x-1/2 z-50",children:(0,s.jsxs)("div",{className:(0,O.AK)("flex flex-col mb-1 sm:mb-3 shadow-md sm:shadow-lg rounded py-2 pl-4 pr-4 sm:pl-5 sm:pr-7 font-medium ",o.isDark?"bg-white text-gray-800":"bg-gray-800 text-white"),children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"inline-flex font-semibold mr-1"}),"This form has unpublished changes"]}),(0,s.jsx)("div",{className:"flex items-center justify-center text-xs text-gray-400 mt-0 sm:mt-[2px]",children:"This note is only visible to you"}),(0,s.jsx)("div",{className:"absolute top-0 right-0 mr-1 mt-1 sm:mt-[5px]",children:(0,s.jsx)(P.b0D,{onClick:function(){(0,F.a6)(e),c(!0)},className:(0,O.AK)("flex z-[10] cursor-pointer","h-4 w-4",o.isDark?"text-gray-500 hover:text-gray-600":"text-gray-400 hover:text-gray-500"),"aria-hidden":"true"})})]})})},R=n(11393),Z=n(7881),M=n(51743),L=n(54687),U=n(79132),A=n(27124),B=n.n(A),W=n(68349),H=n(82879),q=n(73022),G=n(72279),V=n(28417),K=n(48897),Y=function(){var e=(0,z._)((0,f.useState)(!1),2),t=e[0],n=e[1],o=(0,d.C)(l.uCB),u=(0,K.T)().t,c=(0,d.C)(E.VU),m=(0,z._)((0,f.useState)(!1),2),p=m[0],h=m[1],g=(0,V.gg)(),v=(0,d.C)(a.gh),x=(0,d.C)(y.Wt),w=(0,d.C)(l.urh),b=(0,d.C)(y.Fd),S=(0,d.C)(a.nx);if(g||"edit"===v||!S||!w||"ending"===x)return(0,s.jsx)(s.Fragment,{});var C=B()(c.primaryColor).fade(.85).hsl().string();return(0,s.jsx)(M.u.Root,{show:w,as:f.Fragment,children:(0,s.jsxs)(L.V,{as:"div",className:"relative z-[12]",onClose:function(){},children:[(0,s.jsx)(M.u.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed z-[12] inset-0 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex items-end sm:items-start justify-center min-h-full p-4 text-center sm:p-0",children:(0,s.jsx)(M.u.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsx)("div",{children:(0,s.jsx)(W.NB,{children:(0,s.jsxs)(L.V.Panel,{className:"relative  rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-xl sm:w-full sm:p-6 !mt-28 sm:min-w-[512px]",style:{background:c.questionsBackgroundColorNoOpacity},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full ",style:{backgroundColor:C},children:(0,s.jsx)(U.KNL,{className:"h-6 w-6 ","aria-hidden":"true",style:{color:c.primaryColor}})}),(0,s.jsx)("div",{className:"mt-3 text-center sm:mt-5",children:(0,s.jsx)(L.V.Title,{as:"h3",className:"text-lg leading-5 font-medium ",style:{color:c.questionsColorOnNoOpacity},children:u("This response was already submitted")})})]}),(0,s.jsxs)("div",{className:(0,O.AK)("mt-5 sm:mt-6  ",b?"sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense":" flex justify-center w-full"),children:[(0,s.jsx)("div",{children:(0,s.jsx)(q.g8,{removeRingOffset:!0,customHoverColor:c.inputBackgroundColor,alignment:"full",text:u("New submission"),isLoading:p,sizingOverride:"small",style:b?{background:c.questionsBackgroundColor,borderColor:c.borderColor,color:(0,H.$)(c.slightlyFadedAnswersColor,c.questionsBackgroundColor)}:{},onClick:(0,i._)(function(){return(0,r.Jh)(this,function(e){return h(!0),(0,G.Z3)(v,o),window.location.reload(),[2]})})})}),b&&(0,s.jsx)("div",{className:"mt-4 sm:mt-0","data-cy":"continue-form-button",children:(0,s.jsx)(q.g8,{alignment:"full",isLoading:t,text:u("Edit submission"),sizingOverride:"small",onClick:(0,i._)(function(){return(0,r.Jh)(this,function(e){return n(!0),(0,G.Z3)(v,o),(0,V.H_)(S),[2]})})})})]})]})})})})})})]})})},J=n(441),$=n(22208),Q=n(31342),X=function(){var e=(0,d.C)(E.VU),t=(0,d.C)(a.gh),n=(0,d.C)(a.kf),o=(0,d.T)(),l=(0,d.C)($.q5),u=l.schedulingStepIdWithConflict,c=l.schedulingConflictType,m=void 0===c?"conflict":c,p=(0,Q.d7)();if(!u||"edit"===t)return null;var h=function(){o((0,$.Of)({stepId:void 0}))},g=B()(e.primaryColor).fade(.85).hsl().string();return(0,s.jsx)(M.u.Root,{show:void 0!==u,as:f.Fragment,children:(0,s.jsxs)(L.V,{as:"div",className:"relative z-[12]",onClose:function(){},children:[(0,s.jsx)(M.u.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed z-[12] inset-0 overflow-y-auto",children:(0,s.jsx)("div",{className:"flex items-end sm:items-start justify-center min-h-full p-4 text-center sm:p-0",children:(0,s.jsx)(M.u.Child,{as:f.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsx)("div",{children:(0,s.jsx)(W.NB,{children:(0,s.jsxs)(L.V.Panel,{className:"relative  rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full sm:p-6 !mt-28 fillout-in-progress-modal",style:{background:e.questionsBackgroundColorNoOpacity},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full ",style:{backgroundColor:g},children:(0,s.jsx)(U.Que,{className:"h-6 w-6 ","aria-hidden":"true",style:{color:e.primaryColor}})}),(0,s.jsx)("div",{className:"mt-3 text-center sm:mt-5",children:(0,s.jsx)(L.V.Title,{as:"h3",className:"text-lg leading-5 font-medium ",style:{color:e.questionsColorOnNoOpacity},children:function(){switch(m){case"conflict":return"Your time slot was just taken. Please choose another time.";case"already_attending":return"You are already attending this event."}}()})})]}),(0,s.jsx)("div",{className:"mt-3 sm:mt-4",children:(0,s.jsx)(q.g8,{alignment:"full",text:function(){switch(m){case"conflict":return"Pick time";case"already_attending":return"Continue"}}(),sizingOverride:"small",onClick:(0,i._)(function(){return(0,r.Jh)(this,function(e){return h(),n!==u&&p(u),[2]})})})})]})})})})})})]})})},ee=function(e){var t,n=e.children,p=e.flowPublicIdentifier,h=e.mode,g=e.liveFlowResponse,v=e.previewFlowResponse,x="undefined"===p?void 0:p,w=(0,d.C)(l.Bnf),b=(0,d.T)(),S=(0,d.C)(y.AT),C=(0,d.C)(l.vMx),z=(0,d.C)(a.gh),P=(0,d.C)(l.QwE);(0,k.ax)();var E=(0,R.Z)(),F=E.initializeSession,O=E.loading;if((0,f.useEffect)(function(){x&&(0,i._)(function(){var e,t,n;return(0,r.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,F({flowPublicIdentifier:x,mode:h,liveFlowResponse:g,previewFlowResponse:v})];case 1:return t=i.sent(),v?b((0,a.IZ)({flow:v.flow,flowSnapshot:v.flowSnapshot,mode:"preview"})):b((0,c.M4)((0,o._)({mode:h},t))),b((0,l.P_y)({flowPublicIdentifier:x,mode:h,flowTemplate:null==t?void 0:null===(e=t.flowSnapshot)||void 0===e?void 0:e.template,liveModeGetFlowResponse:g,agentLocation:(0,J.o)((null==t?void 0:t.features)||(null==v?void 0:v.features)||[])})),(0,I.l7)((null==g?void 0:g.features)||[])&&(0,u.u)(null==t?void 0:null===(n=t.flowSnapshot)||void 0===n?void 0:n.template,x,h),b((0,l.iis)({flowInitializationState:"done"})),[3,3];case 2:return i.sent(),b((0,l.iis)({flowInitializationState:"error"})),[3,3];case 3:return[2]}})})()},[b,x,h,F]),(0,f.useEffect)(function(){b((0,a.PM)({mode:h}))},[h,b]),(0,Z.c)({flowPublicIdentifier:x}),(0,f.useEffect)(function(){if(x&&C){var e=(0,m.vl)();b((0,a.Ky)({urlParams:e,registeredUrlParams:C}))}},[h,x,b,C]),S&&!P)return(0,s.jsx)("div",{className:"flex justify-center mt-20",children:(0,s.jsx)("div",{className:"text-red-500 text-2xl",children:"You must select a first step in the flow editor"})});var M=S&&w&&z&&!O;return(0,s.jsxs)(s.Fragment,{children:[M?(0,s.jsx)(s.Fragment,{children:n}):(0,s.jsx)(N.Z,{activeTheme:null==g?void 0:null===(t=g.theme)||void 0===t?void 0:t.theme}),(0,s.jsx)(_.Z,{}),(0,s.jsx)(Y,{}),(0,s.jsx)(D,{}),(0,s.jsx)(T.w,{}),(0,s.jsx)(X,{}),M&&(0,s.jsx)(j,{})]})}},11393:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var i=n(51037),o=n(18775),r=n(50858),s=n(55818),l=n(60053),a=n(85556),u=n(57500),c=n(45578),d=n(42036),f=n(11576),m=n(27378),p=n(28417),h=n(5592),g=n(39142),v=n(58971),x=n(14126),y=n.n(x),w=n(3320),b=n(82377),S=n(61656),C=n(72279),j=n(86677),N=n(31342),I=n(38580),T=n(20202),k=function(e,t){var n=Object.keys((0,h.peT)(e.integrations)).length>0||(0,p._N)(),i=!!(t&&t===e.firstStep),o=(0,d.getLoginStepTemplate)(e).loginTemplate;return i&&n&&!o},_=function(){var e,t=(0,j.useRouter)().query.flowPublicIdentifier,n=(0,N.BJ)();return(0,m.useCallback)((e=(0,i._)(function(e){var i,o,r,s,l,c,d,m,h,g,v,x,y,w;return(0,a.Jh)(this,function(a){switch(a.label){case 0:if(i=e.mode,o=e.flowTemplate,r=e.sessionToken,s=e.currentStepId,l=e.submissionId,c=e.localStorageModel,d=e.agentLocation,null==t)throw Error("No flowPublicIdentifier");if(!o.firstStep)return(0,f.eZ)("No first step set for form"),[2,{didRun:!1}];if(!k(o,s))return[2,{didRun:!1}];h={mode:i,sessionToken:r,stepId:s,submissionId:l,urlParams:(0,u.vl)(),version:"v2"},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,I.UX)(d,"/v1/flow/".concat(t,"/runReadIntegrations"),"POST",h)];case 2:return g=a.sent(),[3,4];case 3:return v=a.sent(),[2,(0,p.sf)(v,r,t,s,i)];case 4:if(g.error)throw Error(g.error.error);return y=(x=(null===(m=g.model.stepHistory)||void 0===m?void 0:m.path)||[]).length?x[x.length-1]:o.firstStep,Object.keys(w=(0,T.i)({backendModel:g.model,flowTemplate:o,localStorageModel:c,stepToStartFrom:y})).filter(function(e){return(0,p._N)()||"stepHistory"!==e}).forEach(function(e){var r=w[e];n({mode:i,flowPublicIdentifier:t,stepId:e,registeredUrlParams:o.urlParams,stepModel:r})}),[2,{didRun:!0,existingUpdateSequenceNumber:g.currentUpdateSequenceNumber,stepToStartFrom:(0,p._N)()?y:void 0,newStepHistory:(0,p._N)()?x:void 0}]}})}),function(t){return e.apply(this,arguments)}),[t,n])},z=n(3517),P=n(441),E=function(){var e,t=(0,l._)((0,m.useState)(!1),2),n=t[0],x=t[1],j=(0,v.C)(h.q13),N=(0,v.C)(h.C2z),I=(0,v.T)(),T=_();return{initializeSession:(0,m.useCallback)((e=(0,i._)(function(e){var t,n,i,l,m,v,k,_,E,F,O,D,R,Z,M,L,U,A,B,W,H,q,G,V,K,Y,J,$,Q,X,ee,et,en;return(0,a.Jh)(this,function(a){switch(a.label){case 0:t=e.flowPublicIdentifier,n=e.mode,i=e.liveFlowResponse,l=e.previewFlowResponse,m=e.ignorePreviewFromCurrentStep,x(!0),a.label=1;case 1:if(a.trys.push([1,14,,15]),!("live"===n&&i))return[3,2];return v=i,[3,8];case 2:if("preview"!==n)return[3,6];if(!l)return[3,3];return v=l,[3,5];case 3:return[4,(0,c.W)("/admin/flows/fetch/".concat(t))];case 4:v=a.sent(),a.label=5;case 5:return[3,8];case 6:return[4,(0,c.W)("/public/flows/".concat(t,"?mode=").concat(n))];case 7:v=a.sent(),a.label=8;case 8:if(E=v.flowSnapshot.template,F=(0,w.bH)(),D=(O=v.flow.settings.disableResumingSubmissions||!!v.flow.parentFlowPublicIdentifier||F||(0,p._N)())?void 0:(0,C.Gg)(n,t),R=(0,P.o)(v.features),O&&(0,C.Gg)(n,t)&&!(0,p._N)()&&(0,p.HN)(t,n,R),D&&(D.currentStepId&&D.currentStepId in E.steps||(D.currentStepId=E.firstStep,(0,C.CT)(n,t,(0,s._)((0,r._)({},D),{currentStepId:E.firstStep}))),E.firstStep===D.currentStepId&&0===Object.keys((0,h.peT)(E.integrations)).length||I((0,h.sWD)({open:!0}))),Z=(0,p.pf)(n,t),I((0,g.ZB)({mode:n,sessionToken:Z.token})),"live"!==n&&"preview"!==n||(null==i?void 0:i.features.includes("MINIMIZE_NETWORK_REQUESTS"))||(0,z.x)({flowOwnerUserId:null==i?void 0:i.flow.ownerUserId,flowPublicIdentifier:t,dispatch:I,sessionToken:Z.token,agentLocation:R,mode:n,organizationId:null==i?void 0:i.flow.organizationId}),M=(0,b.SN)(t,n),!(L=(null==D?void 0:D.currentStepId)||E.firstStep))throw Error("Missing a desired step to go to when initializing the form");return U=(null==M?void 0:null===(k=M.globals)||void 0===k?void 0:k.submissionId)||y().uuid(),A=(0,s._)((0,r._)({},M),{urlParams:(0,u.nv)((0,u.vl)(),E.urlParams),globals:{submissionId:U}}),I((0,g.QB)({flowPublicIdentifier:t,mode:n,newModel:A})),B=!1,window.location.hash&&(W=decodeURIComponent(window.location.hash.split("#")[1]||""))&&(B=Object.values(E.steps).reduce(function(e,t){return(0,s._)((0,r._)({},e),(0,o._)({},t.name,t.id))},{})[W]),H=N&&!m,I((0,g.D7)({flowPublicIdentifier:t,stepId:H&&j||B||L,existingStepHistory:null==M?void 0:null===(_=M.stepHistory)||void 0===_?void 0:_.path,mode:n})),[4,T({mode:n,flowTemplate:E,currentStepId:L,sessionToken:Z.token,submissionId:U,localStorageModel:A,agentLocation:R})];case 9:if(G=(q=a.sent()).existingUpdateSequenceNumber,V=q.stepToStartFrom,K=q.newStepHistory,(0,p._N)()&&V&&I((0,g.D7)({flowPublicIdentifier:t,stepId:V,existingStepHistory:K||(null==M?void 0:null===(Y=M.stepHistory)||void 0===Y?void 0:Y.path),mode:n})),I((0,g.Rp)({mode:n,flowPublicIdentifier:t,sequenceNumber:G||Z.sequenceNumber||0})),$=(J=(0,d.getLoginStepTemplate)(E)).loginTemplate,Q=J.stepId,!($&&Q&&("email"===$.loginType||"sso"===$.loginType)))return[3,13];a.label=10;case 10:return a.trys.push([10,12,,13]),[4,(0,S.Fj)({model:A,sessionUuid:U,mode:n,flowPublicIdentifier:t,dispatch:I,loginStepId:Q,sessionToken:Z.token,flowTemplate:E,agentLocation:R})];case 11:return a.sent(),[3,13];case 12:if(!(null==(X=a.sent())?void 0:X.message))return console.error(X),[2];if(401===(ee=X).statusCode)return I((0,g.mK)({error:ee.message===d.DEFAULT_NOT_LOGGED_IN_MESSAGE?void 0:ee.message})),[2];return console.error(X),[3,13];case 13:return[3,15];case 14:throw"LIVE_FORM_MAINTENANCE_MODE_ENABLED"===(en=et=a.sent()).message?(0,f.F0)("Form is undergoing scheduled maintenance",{position:"top-center",autoClose:!1,description:"Please try refreshing the page in a few minutes"}):p.dI.includes(en.message)?(0,f.F0)("Oops! Couldn't seem to fetch this form",{position:"top-center",autoClose:!1,description:"Please try refreshing the page and checking your internet connectivity"}):(0,f.eZ)(en.message,{duration:6e3,autoClose:!1,position:"top-center"}),et;case 15:return x(!1),[2,(0,r._)({},v)]}})}),function(t){return e.apply(this,arguments)}),[T,I]),loading:n}}},2962:function(e,t,n){"use strict";n.d(t,{U:function(){return a},l:function(){return l}});var i=n(50858),o=n(55818),r=n(94178),s=n(21031),l={title:{desktop:{h1Size:{fontSize:(0,s.hD)(56),lineHeight:"1.2em",fontWeight:600},h2Size:{fontSize:(0,s.hD)(50),lineHeight:"1.2em",fontWeight:600},h3Size:{fontSize:(0,s.hD)(44),fontWeight:600},h4Size:{fontSize:(0,s.hD)(30),fontWeight:600},h5Size:{fontSize:(0,s.hD)(24),fontWeight:500},pSize:{fontSize:(0,s.hD)(38),fontWeight:600}},mobile:{h1Size:{fontSize:(0,s.hD)(50),lineHeight:"1.2em",fontWeight:600},h2Size:{fontSize:(0,s.hD)(46),lineHeight:"1.2em",fontWeight:600},h3Size:{fontSize:(0,s.hD)(40),fontWeight:600},h4Size:{fontSize:(0,s.hD)(26),fontWeight:600},h5Size:{fontSize:(0,s.hD)(20),fontWeight:500},pSize:{fontSize:(0,s.hD)(34),fontWeight:600}}},subtitle:{desktop:(0,o._)((0,i._)({},s.lk.large.desktop),{pSize:{fontSize:(0,s.hD)(26),fontWeight:400}}),mobile:(0,o._)((0,i._)({},s.lk.large.mobile),{pSize:{fontSize:(0,s.hD)(24),fontWeight:400}})}},a={toolbarModule:[[{header:[1,2,3,4,5,!1]}],["bold","italic","underline"],[{color:r.i}],["link"]],toolbarOptions:["bold","italic","underline","header","color","link"]}},7881:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var i=n(27378),o=n(58971),r=n(5592),s=n(39142),l=n(31398),a=n(20847),u=function(e){var t,n=e.flowPublicIdentifier,u=(0,o.T)(),c=(0,o.C)(r.Nad),d=(0,o.C)(s.F9),f=(0,o.C)(r.Akz),m=null==f?void 0:null===(t=f.settings)||void 0===t?void 0:t.language,p=(0,o.C)(r.H7w);(0,i.useEffect)(function(){if(c&&n){var e=(0,l.UI)(d,c,m),t=e.hasChanged,i=e.newCalculationsModel;t&&u((0,s.VI)({flowPublicIdentifier:n,calculationsModel:i}))}},[c,d,n,u,m]),(0,i.useEffect)(function(){if(f&&n&&p){var e=(0,a.ri)(d,f),t=e.hasChanged,i=e.score,o=e.maxScore;t&&u((0,s.ec)({flowPublicIdentifier:n,score:i,maxScore:o}))}},[f,d,n,u,p])}},20075:function(e,t,n){"use strict";var i=n(24246),o=n(11576);t.Z=function(e){var t=e.text,n=e.className,r=e.onClick,s=e.size,l=void 0===s?"normal":s,a=e.theme,u=void 0===a?"blue":a,c=e.style;return(0,i.jsx)("span",{className:(0,o.AK)("inline-flex items-center py-0.5 rounded-full font-medium  ","small"===l?"text-xs px-2":"large"===l?"text-[15px] px-4":"text-sm px-3 ","blue"===u&&"bg-blue-100 text-blue-800","amber"===u&&"bg-amber-100 text-amber-800","red"===u&&"bg-red-100 text-red-800","gray"===u&&"bg-gray-100 text-gray-800","emerald"===u&&"bg-emerald-100 text-emerald-800","gray2"===u&&"bg-gray-200 text-gray-600","pink"===u&&"bg-pink-200 text-pink-600","green"===u&&"bg-green-100 text-green-600","transparent"===u&&"bg-transparent ","black"===u&&"bg-gray-700 text-white","zapier"===u&&"bg-[#ffe6da] text-[#FF4F00]","make"===u&&"bg-[#f1e0ff] text-[#6C01CB]","primary"===u&&"bg-primary text-fillout-black","violet"===u&&"bg-violet-100 text-violet-800","scheduling"===u&&"bg-white border border-gray-200 text-gray-500",n),style:c,onClick:r,children:t})}},49991:function(e,t,n){"use strict";n.d(t,{$:function(){return l},R:function(){return s}});var i=n(50858),o=n(55818),r=n(27378),s={zIndex:1e3,position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0},l=function(){var e=(0,r.useRef)(null),t=(0,r.useCallback)(function(t){e.current=t},[]),n=(0,r.useCallback)(function(t,n){e.current&&e.current((0,o._)((0,i._)({},n),{origin:{y:.7},particleCount:Math.floor(200*t)}))},[]);return{fire:(0,r.useCallback)(function(){n(.25,{spread:26,startVelocity:55}),n(.2,{spread:60}),n(.35,{spread:100,decay:.91,scalar:.8}),n(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),n(.1,{spread:120,startVelocity:45})},[n]),getInstance:t}}},99770:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return F},default:function(){return O}});var i=n(60053),o=n(24246),r=n(50858),s=n(55818),l=n(58971),a=n(39142),u=n(42036),c=n(82879),d=n(1189),f=n(83408),m=n(89426),p=n(5592),h=n(19941),g=n(99511),v=n(86677),x=n(27378),y=n(85896),w=n(82463),b=function(e){var t,n,i,b,S=e.flowProps,C=e.ogUrl,j=(0,l.T)(),N=(0,v.useRouter)().query.flowPublicIdentifier,I="live";(0,y.ax)();var T=null===(t=S.flow)||void 0===t?void 0:t.settings;if((0,x.useEffect)(function(){j((0,h.M4)((0,s._)((0,r._)({},S),{mode:I}))),j((0,a.D7)({flowPublicIdentifier:N,stepId:S.flowSnapshot.template.firstStep})),j((0,p.YRi)(!0)),j((0,p.iis)({flowInitializationState:"done"})),j((0,a.PM)({mode:I}))},[]),!T)return null;var k=(null==T?void 0:null===(n=T.disabledFormMessage)||void 0===n?void 0:n.title)?(0,u.stripMarkdown)(null==T?void 0:null===(i=T.disabledFormMessage)||void 0===i?void 0:i.title):void 0,_=(0,c.CN)((0,g.Z5)(S.theme,S.flowSnapshot.template)||u.OLD_PLAIN_FALLBACK_THEME.theme,!1);return(0,o.jsxs)(d.Z,{seoTitle:k||"This form is closed",dontSeoIndex:!0,ogUrl:C,children:[(0,o.jsx)(f.Z,{activeTheme:_,isPayingOrg:(0,m.L9)(S.features),language:(null===(b=S.flowSnapshot.template.settings)||void 0===b?void 0:b.language)||"en"}),(0,o.jsx)(w.Z,{activeTheme:_,flow:S.flow})]})},S=n(87653),C=n(61320),j=n.n(C),N=n(10680),I=n(32488),T=n(23231),k=n(98904),_=function(e){var t=e.flowPublicIdentifier,n=e.liveFlowResponse;return(0,o.jsx)(T.Z,{flowPublicIdentifier:t,mode:"live",liveFlowResponse:n,children:(0,o.jsx)(k.Z,{})})},z=n(40618),P=function(e){var t=e.openDate&&j()(e.openDate)>j()(),n=e.expirationDate&&j()(e.expirationDate)<j()();return t||n||e.disabledForm},E=function(e){var t=e.flowPublicIdentifier,n=e.subdomain,i=e.customDomains,o=e.features,r=e.flow;if(I.DL)return"".concat(I.TM,"/t/").concat(t);var s=n||((null==o?void 0:o.includes("PAYING_ORG"))?"form":"forms"),l=r.customEnding||"t/".concat(t);return i&&i.length>0?"https://".concat(i,"/").concat(l):"https://".concat(s,".fillout.com/").concat(l)},F=!0,O=function(e){var t,n,r,s,a,h,y,w,C,j,T,k=(0,l.T)(),F=(0,v.useRouter)().query.flowPublicIdentifier,O=(0,p.SVO)(e.flowSnapshot.template);(0,x.useEffect)(function(){O||k((0,p.wqz)({isFinished:!0}))},[O,k]),(0,S.BG)();var D=(0,m.cU)(e.features);(0,z.O)({customDomains:e.customDomains,expectedSubdomain:e.subdomain});var R=E({flow:e.flow,flowPublicIdentifier:F,customDomains:e.customDomains,features:e.features,subdomain:e.subdomain}),Z=(0,N.zL)(),M="".concat(R).concat(Z),L=null===(t=e.flow)||void 0===t?void 0:t.settings,U=L&&P(L),A=(0,i._)((0,x.useState)(U),2),B=A[0],W=A[1];if((0,x.useEffect)(function(){var t,n=null===(t=e.flow)||void 0===t?void 0:t.settings;W(n&&P(n))},[null===(n=e.flow)||void 0===n?void 0:n.settings]),U||B)return(0,o.jsx)(b,{flowProps:e,ogUrl:R});var H=e.flow.type,q=D&&(null===(r=e.flow.settings)||void 0===r?void 0:null===(s=r.linkSettings)||void 0===s?void 0:s.title)||e.flow.name,G=D&&(null===(a=e.flow.settings)||void 0===a?void 0:null===(h=a.linkSettings)||void 0===h?void 0:h.description)||(0,I.KT)(H),V=D&&(null===(y=e.flow.settings)||void 0===y?void 0:null===(w=y.linkSettings)||void 0===w?void 0:w.thumbnailUrl)||I.qT;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(d.Z,{customOgImageUrl:V,seoTitle:q,seoDescription:G,iconUrl:null===(C=e.organizationSettings)||void 0===C?void 0:null===(j=C.branding)||void 0===j?void 0:j.faviconUrl,dontSeoIndex:!0,ogUrl:R,oembedUrl:"".concat(I.LB,"/public/oembed?url=").concat(encodeURIComponent(M),"&format=json"),children:[O&&(0,o.jsx)(f.Z,{activeTheme:(0,c.CN)((0,g.Z5)(e.theme,e.flowSnapshot.template)||u.OLD_PLAIN_FALLBACK_THEME.theme,!1),isPayingOrg:(0,m.L9)(e.features),language:(null===(T=e.flowSnapshot.template.settings)||void 0===T?void 0:T.language)||"en"}),(0,o.jsx)(_,{flowPublicIdentifier:F,liveFlowResponse:e})]})})}},82991:function(e,t,n){"use strict";n.d(t,{_:function(){return d},b:function(){return c}});var i=n(27378),o=n(22652),r=n(36616),s=n(85804),l=n(92296),a=n(11981);let u=(0,i.createContext)(null);function c(){let[e,t]=(0,i.useState)([]);return[e.length>0?e.join(" "):void 0,(0,i.useMemo)(()=>function(e){let n=(0,a.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),i=n.indexOf(e);return -1!==i&&n.splice(i,1),n}))),o=(0,i.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props}),[n,e.slot,e.name,e.props]);return i.createElement(u.Provider,{value:o},e.children)},[t])]}let d=(0,r.yV)(function(e,t){let n=(0,o.M)(),{id:a=`headlessui-label-${n}`,passive:c=!1,...d}=e,f=function e(){let t=(0,i.useContext)(u);if(null===t){let t=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),m=(0,l.T)(t);(0,s.e)(()=>f.register(a),[a,f.register]);let p={ref:m,...f.props,id:a};return c&&("onClick"in p&&delete p.onClick,"onClick"in d&&delete d.onClick),(0,r.sY)({ourProps:p,theirProps:d,slot:f.slot||{},defaultTag:"label",name:f.name||"Label"})})},55842:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var i=n(27378),o=n(11981);function r(e,t,n){let[r,s]=(0,i.useState)(n),l=void 0!==e,a=(0,i.useRef)(l),u=(0,i.useRef)(!1),c=(0,i.useRef)(!1);return!l||a.current||u.current?l||!a.current||c.current||(c.current=!0,a.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(u.current=!0,a.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[l?e:r,(0,o.z)(e=>(l||s(e),null==t?void 0:t(e)))]}},98283:function(e,t,n){"use strict";function i(e,t){return e?e+"["+t+"]":t}function o(e){var t;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n){for(let e of n.elements)if("INPUT"===e.tagName&&"submit"===e.type||"BUTTON"===e.tagName&&"submit"===e.type||"INPUT"===e.nodeName&&"image"===e.type){e.click();return}}}n.d(t,{g:function(){return o},t:function(){return function e(t={},n=null,o=[]){for(let[r,s]of Object.entries(t))!function t(n,o,r){if(Array.isArray(r))for(let[e,s]of r.entries())t(n,i(o,e.toString()),s);else r instanceof Date?n.push([o,r.toISOString()]):"boolean"==typeof r?n.push([o,r?"1":"0"]):"string"==typeof r?n.push([o,r]):"number"==typeof r?n.push([o,`${r}`]):null==r?n.push([o,""]):e(r,o,n)}(o,i(n,r),s);return o}}})}},function(e){e.O(0,[439,9132,9894,8484,3580,4054,8746,1699,6597,2882,7969,2892,4765,6145,4595,7899,4881,8904,3347,8868,9774,2888,179],function(){return e(e.s=53791)}),_N_E=e.O()}]);